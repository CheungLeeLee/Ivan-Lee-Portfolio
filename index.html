<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ivan Lee - Fullstack & AI Developer</title>
    <meta name="description" content="Ivan Lee - Fullstack & AI Developer specializing in Python, Machine Learning, and Web Development">
    <meta name="keywords" content="fullstack developer, AI developer, Python, machine learning, web development">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --primary-bg: #0a0a0a;
            --secondary-bg: #111111;
            --accent-color: #6366f1;
            --accent-hover: #4f46e5;
            --text-primary: #ffffff;
            --text-secondary: #cbd5e1;
            --text-muted: #94a3b8;
            --border-color: #333333;
            --card-bg: #1a1a1a;
            --success-color: #10b981;
            --warning-color: #f59e0b;
            --gradient: linear-gradient(135deg, #6366f1 0%, #8b5cf6 50%, #ec4899 100%);
            --gradient-subtle: linear-gradient(135deg, rgba(99, 102, 241, 0.1) 0%, rgba(139, 92, 246, 0.1) 100%);
            --shadow-sm: 0 1px 2px 0 rgb(0 0 0 / 0.05);
            --shadow-md: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
            --shadow-lg: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);
            --shadow-xl: 0 20px 25px -5px rgb(0 0 0 / 0.1), 0 8px 10px -6px rgb(0 0 0 / 0.1);
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background-color: var(--primary-bg);
            color: var(--text-primary);
            line-height: 1.6;
            overflow-x: hidden;
            scroll-behavior: smooth;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 2rem;
        }

        /* Loading Screen */
        .loading-screen {
            position: fixed;
            inset: 0;
            background: var(--primary-bg);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 9999;
            transition: opacity 0.5s ease;
        }

        .loading-spinner {
            width: 50px;
            height: 50px;
            border: 3px solid var(--border-color);
            border-top: 3px solid var(--accent-color);
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        /* Header */
        header {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            background: rgba(10, 10, 10, 0.90);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            z-index: 1000;
            padding: 1rem 0;
            border-bottom: 1px solid rgba(51, 51, 51, 0.3);
            transition: all 0.3s ease;
        }

        header.scrolled {
            background: rgba(10, 10, 10, 0.95);
            box-shadow: var(--shadow-lg);
        }

        nav {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo {
            font-size: 1.5rem;
            font-weight: 700;
            background: var(--gradient);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            transition: transform 0.3s ease;
        }

        .logo:hover {
            transform: scale(1.05);
        }

        .nav-links {
            display: flex;
            gap: 2.5rem;
        }

        .nav-links a {
            color: var(--text-secondary);
            text-decoration: none;
            font-weight: 500;
            position: relative;
            padding: 0.5rem 0;
            transition: color 0.3s ease;
        }

        .nav-links a::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 0;
            height: 2px;
            background: var(--gradient);
            transition: width 0.3s ease;
        }

        .nav-links a:hover {
            color: var(--text-primary);
        }

        .nav-links a:hover::after,
        .nav-links a.active::after {
            width: 100%;
        }

        .nav-actions {
            display: flex;
            gap: 1rem;
            align-items: center;
        }

        .cv-button, .theme-toggle {
            background: var(--card-bg);
            border: 1px solid var(--border-color);
            color: var(--text-primary);
            padding: 0.625rem 1.25rem;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 500;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .cv-button:hover, .theme-toggle:hover {
            background: var(--accent-color);
            border-color: var(--accent-color);
            transform: translateY(-1px);
            box-shadow: var(--shadow-md);
        }

        .mobile-menu-toggle {
            display: none;
            background: none;
            border: none;
            color: var(--text-primary);
            font-size: 1.5rem;
            cursor: pointer;
            padding: 0.5rem;
        }

        /* Hero Section */
        .hero {
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: center;
            background: 
                radial-gradient(circle at 20% 80%, rgba(99, 102, 241, 0.15) 0%, transparent 50%),
                radial-gradient(circle at 80% 20%, rgba(139, 92, 246, 0.15) 0%, transparent 50%);
            position: relative;
            overflow: hidden;
        }

        .hero::before {
            content: '';
            position: absolute;
            inset: 0;
            background: url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23ffffff' fill-opacity='0.02'%3E%3Ccircle cx='30' cy='30' r='1'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E");
            animation: float 20s linear infinite;
        }

        @keyframes float {
            0% { transform: translateY(0px); }
            100% { transform: translateY(-60px); }
        }

        .hero-content {
            position: relative;
            z-index: 1;
            max-width: 800px;
        }

        .hero-content h1 {
            font-size: clamp(2.5rem, 5vw, 4.5rem);
            margin-bottom: 1.5rem;
            background: var(--gradient);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            font-weight: 700;
            line-height: 1.1;
        }

        .hero-content .subtitle {
            font-size: clamp(1.25rem, 3vw, 1.75rem);
            color: var(--text-secondary);
            margin-bottom: 2rem;
            font-weight: 400;
        }

        .hero-content .description {
            font-size: 1.125rem;
            max-width: 600px;
            margin: 0 auto 3rem;
            color: var(--text-muted);
            line-height: 1.7;
        }

        .hero-actions {
            display: flex;
            gap: 1.5rem;
            justify-content: center;
            flex-wrap: wrap;
        }

        .cta-button {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            background: var(--gradient);
            padding: 1rem 2.5rem;
            border-radius: 50px;
            text-decoration: none;
            color: white;
            font-weight: 600;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .cta-button::before {
            content: '';
            position: absolute;
            inset: 0;
            background: linear-gradient(135deg, rgba(255,255,255,0.2) 0%, rgba(255,255,255,0.1) 100%);
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .cta-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 15px 35px rgba(99, 102, 241, 0.4);
        }

        .cta-button:hover::before {
            opacity: 1;
        }

        .cta-secondary {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            background: transparent;
            border: 2px solid var(--border-color);
            padding: 1rem 2.5rem;
            border-radius: 50px;
            text-decoration: none;
            color: var(--text-primary);
            font-weight: 600;
            transition: all 0.3s ease;
        }

        .cta-secondary:hover {
            border-color: var(--accent-color);
            background: rgba(99, 102, 241, 0.1);
            transform: translateY(-2px);
        }

        /* Scroll Indicator */
        .scroll-indicator {
            position: absolute;
            bottom: 2rem;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 0.5rem;
            color: var(--text-muted);
            animation: bounce 2s infinite;
        }

        @keyframes bounce {
            0%, 20%, 50%, 80%, 100% { transform: translateX(-50%) translateY(0); }
            40% { transform: translateX(-50%) translateY(-10px); }
            60% { transform: translateX(-50%) translateY(-5px); }
        }

        /* Sections */
        section {
            padding: 6rem 0;
        }

        .section-title {
            font-size: clamp(2rem, 4vw, 3rem);
            text-align: center;
            margin-bottom: 4rem;
            background: var(--gradient);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            font-weight: 700;
            position: relative;
        }

        .section-title::after {
            content: '';
            position: absolute;
            bottom: -1rem;
            left: 50%;
            transform: translateX(-50%);
            width: 100px;
            height: 4px;
            background: var(--gradient);
            border-radius: 2px;
        }

        /* About Section */
        .about-content {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 5rem;
            align-items: center;
        }

        .profile-section {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 2rem;
        }

        .profile-image-wrapper {
            position: relative;
            width: 280px;
            height: 280px;
            border-radius: 50%;
            padding: 4px;
            background: var(--gradient);
            transition: transform 0.3s ease;
        }

        .profile-image-wrapper:hover {
            transform: scale(1.05);
        }

        .profile-image {
            width: 100%;
            height: 100%;
            object-fit: cover;
            border-radius: 50%;
            border: 6px solid var(--secondary-bg);
            box-shadow: var(--shadow-xl);
        }

        .about-text h3 {
            color: var(--accent-color);
            margin-bottom: 1.5rem;
            font-size: 1.5rem;
            font-weight: 600;
        }

        .about-text p {
            color: var(--text-secondary);
            margin-bottom: 1.5rem;
            line-height: 1.8;
            font-size: 1.1rem;
        }

        .skills-section h3 {
            text-align: center;
            margin-bottom: 2rem;
            color: var(--accent-color);
            font-size: 1.5rem;
        }

        .skills-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
            gap: 1rem;
        }

        .skill-item {
            background: var(--card-bg);
            padding: 1.5rem 1rem;
            border-radius: 12px;
            text-align: center;
            border: 1px solid var(--border-color);
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
            font-weight: 500;
        }

        .skill-item::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 2px;
            background: var(--gradient);
            transition: left 0.3s ease;
        }

        .skill-item:hover {
            transform: translateY(-5px);
            border-color: var(--accent-color);
            box-shadow: var(--shadow-lg);
        }

        .skill-item:hover::before {
            left: 0;
        }

        /* Stats Section */
        .stats-section {
            background: var(--gradient-subtle);
            border: 1px solid rgba(99, 102, 241, 0.1);
            border-radius: 20px;
            padding: 3rem;
            margin: 4rem 0;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 2rem;
            text-align: center;
        }

        .stat-item {
            padding: 1.5rem;
        }

        .stat-number {
            font-size: 2.5rem;
            font-weight: 700;
            background: var(--gradient);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            display: block;
        }

        .stat-label {
            color: var(--text-secondary);
            margin-top: 0.5rem;
            font-weight: 500;
        }

        /* Projects Section */
        .projects-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(380px, 1fr));
            gap: 2rem;
        }

        .project-card {
            background: var(--card-bg);
            border: 1px solid var(--border-color);
            border-radius: 20px;
            padding: 2.5rem;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
            display: flex;
            flex-direction: column;
            height: 100%;
        }

        .project-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: var(--gradient);
            transform: scaleX(0);
            transition: transform 0.3s ease;
            border-radius: 20px 20px 0 0;
        }

        .project-card:hover::before {
            transform: scaleX(1);
        }

        .project-card:hover {
            transform: translateY(-8px);
            border-color: var(--accent-color);
            box-shadow: var(--shadow-xl);
        }

        .project-header {
            display: flex;
            align-items: flex-start;
            justify-content: space-between;
            margin-bottom: 1.5rem;
        }

        .project-card h3 {
            color: var(--text-primary);
            font-size: 1.5rem;
            font-weight: 600;
        }

        .project-status {
            padding: 0.25rem 0.75rem;
            border-radius: 12px;
            font-size: 0.75rem;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.05em;
        }

        .status-live {
            background: rgba(16, 185, 129, 0.1);
            color: var(--success-color);
            border: 1px solid rgba(16, 185, 129, 0.2);
        }

        .status-development {
            background: rgba(245, 158, 11, 0.1);
            color: var(--warning-color);
            border: 1px solid rgba(245, 158, 11, 0.2);
        }

        .project-card p {
            color: var(--text-secondary);
            margin-bottom: 2rem;
            line-height: 1.7;
            flex-grow: 1;
            font-size: 1.05rem;
        }

        .project-tags {
            display: flex;
            flex-wrap: wrap;
            gap: 0.75rem;
            margin-bottom: 2rem;
        }

        .tag {
            background: rgba(99, 102, 241, 0.1);
            color: var(--accent-color);
            padding: 0.5rem 1rem;
            border-radius: 20px;
            font-size: 0.875rem;
            border: 1px solid rgba(99, 102, 241, 0.2);
            font-weight: 500;
        }

        .project-links {
            display: flex;
            gap: 1rem;
            margin-top: auto;
        }

        .project-link {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            color: var(--accent-color);
            text-decoration: none;
            font-weight: 500;
            transition: all 0.3s ease;
            padding: 0.75rem 1.5rem;
            border-radius: 10px;
            border: 1px solid var(--border-color);
            flex: 1;
            justify-content: center;
        }

        .project-link:hover {
            background: rgba(99, 102, 241, 0.12);
            border-color: var(--accent-color);
            transform: translateY(-2px);
        }

        /* Contact Section */
        .contact-content {
            max-width: 700px;
            margin: 0 auto;
            text-align: center;
        }

        .contact-content > p {
            color: var(--text-secondary);
            font-size: 1.25rem;
            margin-bottom: 3rem;
            line-height: 1.8;
        }

        .contact-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 2rem;
            margin: 3rem 0;
        }

        .contact-card {
            background: var(--card-bg);
            border: 1px solid var(--border-color);
            border-radius: 16px;
            padding: 2rem;
            text-align: center;
            transition: all 0.3s ease;
            text-decoration: none;
            color: inherit;
        }

        .contact-card:hover {
            background: rgba(99, 102, 241, 0.05);
            border-color: var(--accent-color);
            transform: translateY(-5px);
            box-shadow: var(--shadow-lg);
        }

        .contact-icon {
            font-size: 2rem;
            margin-bottom: 1rem;
            display: block;
        }

        .contact-card h4 {
            color: var(--text-primary);
            font-size: 1.25rem;
            margin-bottom: 0.5rem;
            font-weight: 600;
        }

        .contact-card p {
            color: var(--text-secondary);
        }

        .contact-info {
            margin-top: 3rem;
            padding: 2rem;
            background: var(--gradient-subtle);
            border-radius: 16px;
            border: 1px solid rgba(99, 102, 241, 0.1);
        }

        .contact-info p {
            color: var(--text-secondary);
            margin-bottom: 0.5rem;
        }

        /* Footer */
        footer {
            background: var(--secondary-bg);
            padding: 3rem 0;
            text-align: center;
            border-top: 1px solid var(--border-color);
        }

        .footer-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 1rem;
        }

        .footer-links {
            display: flex;
            gap: 2rem;
        }

        .footer-links a {
            color: var(--text-secondary);
            text-decoration: none;
            transition: color 0.3s ease;
        }

        .footer-links a:hover {
            color: var(--accent-color);
        }

        /* CV Modal */
        .modal-overlay {
            position: fixed;
            inset: 0;
            background: rgba(0, 0, 0, 0.8);
            backdrop-filter: blur(8px);
            display: none;
            align-items: center;
            justify-content: center;
            z-index: 2000;
            padding: 2rem;
        }

        .modal-overlay.active {
            display: flex;
        }

        .modal-content {
            width: min(100%, 1000px);
            height: min(90vh, 800px);
            background: var(--secondary-bg);
            border: 1px solid var(--border-color);
            border-radius: 20px;
            box-shadow: var(--shadow-xl);
            overflow: hidden;
            display: flex;
            flex-direction: column;
        }

        .modal-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 1rem 1.5rem;
            border-bottom: 1px solid var(--border-color);
            background: var(--card-bg);
        }

        .modal-title {
            font-weight: 600;
            color: var(--text-primary);
            font-size: 1.125rem;
        }

        .modal-actions {
            display: flex;
            gap: 0.75rem;
            align-items: center;
        }

        .download-btn, .close-btn {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.625rem 1.25rem;
            border-radius: 8px;
            border: 1px solid var(--border-color);
            background: var(--card-bg);
            color: var(--text-primary);
            text-decoration: none;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: 500;
        }

        .download-btn:hover, .close-btn:hover {
            background: var(--accent-color);
            color: white;
            border-color: var(--accent-color);
        }

        .modal-body {
            flex: 1;
            background: #1a1a1a;
        }

        .pdf-embed {
            width: 100%;
            height: 100%;
            border: none;
        }

        .pdf-fallback {
            padding: 3rem;
            text-align: center;
            color: var(--text-secondary);
        }

        /* Light Theme */
        .light-theme {
            --primary-bg: #ffffff;
            --secondary-bg: #f8fafc;
            --text-primary: #1e293b;
            --text-secondary: #475569;
            --text-muted: #64748b;
            --border-color: #e2e8f0;
            --card-bg: #ffffff;
            --gradient-subtle: linear-gradient(135deg, rgba(99, 102, 241, 0.05) 0%, rgba(139, 92, 246, 0.05) 100%);
        }

        .light-theme .hero::before {
            background: url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23000000' fill-opacity='0.02'%3E%3Ccircle cx='30' cy='30' r='1'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E");
        }

        /* Mobile Navigation */
        .mobile-nav {
            position: fixed;
            top: 0;
            right: -100%;
            width: 300px;
            height: 100vh;
            background: var(--secondary-bg);
            border-left: 1px solid var(--border-color);
            z-index: 1001;
            transition: right 0.3s ease;
            padding: 2rem;
        }

        .mobile-nav.active {
            right: 0;
        }

        .mobile-nav-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 2rem;
        }

        .mobile-nav-close {
            background: none;
            border: none;
            color: var(--text-primary);
            font-size: 1.5rem;
            cursor: pointer;
        }

        .mobile-nav-links {
            display: flex;
            flex-direction: column;
            gap: 1.5rem;
        }

        .mobile-nav-links a {
            color: var(--text-secondary);
            text-decoration: none;
            font-weight: 500;
            padding: 1rem;
            border-radius: 8px;
            transition: all 0.3s ease;
        }

        .mobile-nav-links a:hover {
            background: var(--card-bg);
            color: var(--text-primary);
        }

        .mobile-nav-actions {
            margin-top: 2rem;
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }

        .mobile-backdrop {
            position: fixed;
            inset: 0;
            background: rgba(0, 0, 0, 0.5);
            z-index: 1000;
            display: none;
        }

        .mobile-backdrop.active {
            display: block;
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .container {
                padding: 0 1rem;
            }

            .nav-links {
                display: none;
            }

            .mobile-menu-toggle {
                display: block;
            }

            .nav-actions {
                gap: 0.5rem;
            }

            .cv-button, .theme-toggle {
                padding: 0.5rem;
                font-size: 0.875rem;
            }

            .hero {
                padding: 0 1rem;
            }

            .hero-actions {
                flex-direction: column;
                align-items: center;
            }

            .about-content {
                grid-template-columns: 1fr;
                gap: 3rem;
                text-align: center;
            }

            .profile-image-wrapper {
                width: 220px;
                height: 220px;
            }

            .projects-grid {
                grid-template-columns: 1fr;
            }

            .contact-grid {
                grid-template-columns: 1fr;
            }

            .skills-grid {
                grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
            }

            .stats-grid {
                grid-template-columns: repeat(2, 1fr);
            }

            .footer-content {
                flex-direction: column;
                text-align: center;
            }

            .footer-links {
                order: -1;
            }

            section {
                padding: 4rem 0;
            }
        }

        /* Animations */
        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes slideInLeft {
            from {
                opacity: 0;
                transform: translateX(-30px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }

        @keyframes slideInRight {
            from {
                opacity: 0;
                transform: translateX(30px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }

        .animate-in {
            animation: fadeInUp 0.8s ease-out forwards;
        }

        .animate-left {
            animation: slideInLeft 0.8s ease-out forwards;
        }

        .animate-right {
            animation: slideInRight 0.8s ease-out forwards;
        }

        /* Utility Classes */
        .hidden {
            display: none;
        }

        .sr-only {
            position: absolute;
            width: 1px;
            height: 1px;
            padding: 0;
            margin: -1px;
            overflow: hidden;
            clip: rect(0, 0, 0, 0);
            white-space: nowrap;
            border: 0;
        }

        /* Back to Top Button */
        .back-to-top {
            position: fixed;
            bottom: 2rem;
            right: 2rem;
            background: var(--gradient);
            border: none;
            border-radius: 50%;
            width: 50px;
            height: 50px;
            color: white;
            cursor: pointer;
            font-size: 1.5rem;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease;
            z-index: 1000;
        }

        .back-to-top.visible {
            opacity: 1;
            visibility: visible;
        }

        .back-to-top:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 25px rgba(99, 102, 241, 0.4);
        }

        /* Progress Bar */
        .progress-bar {
            position: fixed;
            top: 0;
            left: 0;
            height: 3px;
            background: var(--gradient);
            z-index: 9999;
            transition: width 0.3s ease;
        }
    </style>
</head>
<body>
    <!-- Loading Screen -->
    <div class="loading-screen" id="loadingScreen">
        <div class="loading-spinner"></div>
    </div>

    <!-- Progress Bar -->
    <div class="progress-bar" id="progressBar"></div>

    <!-- Header -->
    <header id="header">
        <nav class="container">
            <div class="logo">Ivan Lee</div>
            <div class="nav-links">
                <a href="#about" data-nav-link>About</a>
                <a href="#projects" data-nav-link>Projects</a>
                <a href="#contact" data-nav-link>Contact</a>
            </div>
            <div class="nav-actions">
                <button class="cv-button" onclick="openCvModal()" aria-label="View CV">
                    📄 CV
                </button>
                <button class="theme-toggle" onclick="toggleTheme()" aria-label="Toggle theme">
                    🌙
                </button>
                <button class="mobile-menu-toggle" onclick="toggleMobileMenu()" aria-label="Toggle mobile menu">
                    ☰
                </button>
            </div>
        </nav>
    </header>

    <!-- Mobile Navigation -->
    <div class="mobile-backdrop" id="mobileBackdrop" onclick="closeMobileMenu()"></div>
    <nav class="mobile-nav" id="mobileNav">
        <div class="mobile-nav-header">
            <div class="logo">Ivan Lee</div>
            <button class="mobile-nav-close" onclick="closeMobileMenu()" aria-label="Close mobile menu">✕</button>
        </div>
        <div class="mobile-nav-links">
            <a href="#about" onclick="closeMobileMenu()">About</a>
            <a href="#projects" onclick="closeMobileMenu()">Projects</a>
            <a href="#contact" onclick="closeMobileMenu()">Contact</a>
        </div>
        <div class="mobile-nav-actions">
            <button class="cv-button" onclick="openCvModal(); closeMobileMenu();">📄 View CV</button>
            <button class="theme-toggle" onclick="toggleTheme()">🌙 Toggle Theme</button>
        </div>
    </nav>

    <!-- Hero Section -->
    <section class="hero">
        <div class="hero-content">
            <h1>Hi, I'm Ivan Lee</h1>
            <p class="subtitle">Fullstack & AI Developer</p>
            <p class="description">
                Specializing in Python with hands-on Java experience from various projects, I combine AI, machine learning, 
                and web development to build practical, intelligent tools that simplify complex problems.
            </p>
            <div class="hero-actions">
                <a href="#projects" class="cta-button">
                    <span>View My Work</span>
                    <span>↓</span>
                </a>
            </div>
        </div>
        <div class="scroll-indicator">
            <span style="font-size: 0.875rem;">Scroll down</span>
            <span style="font-size: 1.5rem;">↓</span>
        </div>
    </section>

    <!-- About Section -->
    <section id="about" class="container">
        <h2 class="section-title">About Me</h2>
        <div class="about-content">
            <div class="about-text">
                <h3>My Journey</h3>
                <p>
                    I'm a passionate Python developer currently completing my final course in Machine Learning and Deep Learning 
                    at Nackademin's AI Development program. What drives me is the potential of technology to solve real problems 
                    while maintaining ethical responsibility and sustainability.
                </p>
                <p>
                    My technical foundation spans Python, database design, and full-stack development with Django, Flask, and FastAPI. 
                    What sets me apart is my diverse background in customer service, which taught me to understand user needs and 
                    communicate effectively - skills that make me a better developer.
                </p>
                <p>
                    My proudest project is <strong>FitExplorer</strong> - a fitness tracking platform that combines health data with 
                    intelligent insights. Building something people actually use and benefit from? That's what gets me excited about development.
                </p>
                <h3>When I'm Not Coding</h3>
                <p>
                    When I'm not building applications, you'll find me working out at the gym doing calisthenics, playing badminton, 
                    or strategizing over a chess game. I believe staying physically and mentally active feeds back into creating better technology.
                </p>
            </div>
            <div class="profile-section">
                <div class="profile-image-wrapper">
                    <img class="profile-image" src="assets/profile.jpg" alt="Portrait of Ivan Lee" loading="lazy">
                </div>
                <div class="skills-section">
                    <h3>Technologies I Work With</h3>
                    <div class="skills-grid">
                        <div class="skill-item">Python</div>
                        <div class="skill-item">JavaScript</div>
                        <div class="skill-item">HTML & CSS</div>
                        <div class="skill-item">Tailwind CSS</div>
                        <div class="skill-item">Web Scraping</div>
                        <div class="skill-item">FastAPI</div>
                        <div class="skill-item">Docker</div>
                        <div class="skill-item">VS Code</div>
                        <div class="skill-item">Machine Learning</div>
                        <div class="skill-item">Deep Learning</div>
                        <div class="skill-item">SQL</div>
                        <div class="skill-item">Git</div>
                        <div class="skill-item">Database Design</div>
                        <div class="skill-item">Venv + Modules</div>
                    </div>
                </div>
            </div>
        </div>

        

    <!-- Projects Section -->
    <section id="projects" class="container">
        <h2 class="section-title">Projects I've Built</h2>
        <div class="projects-grid">
            <div class="project-card">
                <div class="project-header">
                    <h3>FitExplorer</h3>
                    <span class="project-status status-live">Live</span>
                </div>
                <p>A comprehensive fitness tracking platform that combines health data with intelligent insights. My crown achievement showcasing full-stack development and user-centered design.</p>
                <div class="project-tags">
                    <span class="tag">Python</span>
                    <span class="tag">JavaScript</span>
                    <span class="tag">Fullstack</span>
                    <span class="tag">Health Data</span>
                </div>
                <div class="project-links">
                    <a href="https://www.fitexplorer.se/" class="project-link" target="_blank" rel="noopener noreferrer">
                        <svg width="16" height="16" viewBox="0 0 16 16" fill="currentColor">
                            <path d="M14.5 0h-13C.675 0 0 .675 0 1.5v13c0 .825.675 1.5 1.5 1.5h13c.825 0 1.5-.675 1.5-1.5v-13c0-.825-.675-1.5-1.5-1.5zM8 13c-2.75 0-5-2.25-5-5s2.25-5 5-5 5 2.25 5 5-2.25 5-5 5zm3-5c0 .55-.45 1-1 1s-1-.45-1-1 .45-1 1-1 1 .45 1 1z"/>
                        </svg>
                        Live Demo
                    </a>
                    <a href="https://github.com/CheungLeeLee/FitExplorer" class="project-link" target="_blank" rel="noopener noreferrer">
                        <svg width="16" height="16" viewBox="0 0 16 16" fill="currentColor">
                            <path d="M8 .198a8 8 0 0 0-2.53 15.59c.4.074.547-.174.547-.386 0-.19-.007-.693-.01-1.36-2.226.484-2.695-1.073-2.695-1.073-.364-.924-.89-1.17-.89-1.17-.727-.497.055-.487.055-.487.804.057 1.228.826 1.228.826.715 1.226 1.873.872 2.33.667.072-.518.28-.872.508-1.073-1.777-.202-3.644-.888-3.644-3.955 0-.873.312-1.587.824-2.146-.083-.202-.357-1.016.078-2.117 0 0 .67-.214 2.2.82.636-.177 1.318-.266 2-.27.682.004 1.364.093 2 .27 1.53-1.034 2.2-.82 2.2-.82.435 1.101.161 1.915.08 2.117.513.56.823 1.273.823 2.146 0 3.074-1.87 3.75-3.65 3.95.287.247.543.735.543 1.482 0 1.07-.01 1.93-.01 2.19 0 .214.145.463.55.384A8 8 0 0 0 8 .198z"/>
                        </svg>
                        Code
                    </a>
                </div>
            </div>

            <div class="project-card">
                <div class="project-header">
                    <h3>Travel Assistant</h3>
                    <span class="project-status status-development">Development</span>
                </div>
                <p>An intelligent travel planning application that helps users discover destinations, plan itineraries, and get personalized travel recommendations based on preferences and budget. Combines AI with real-world travel data to create meaningful user experiences.</p>
                <div class="project-tags">
                    <span class="tag">Python</span>
                    <span class="tag">AI</span>
                    <span class="tag">Travel Planning</span>
                </div>
                <div class="project-links">
                    <a href="https://github.com/CheungLeeLee/Travel-Assistent" class="project-link" target="_blank" rel="noopener noreferrer">
                        <svg width="16" height="16" viewBox="0 0 16 16" fill="currentColor">
                            <path d="M8 .198a8 8 0 0 0-2.53 15.59c.4.074.547-.174.547-.386 0-.19-.007-.693-.01-1.36-2.226.484-2.695-1.073-2.695-1.073-.364-.924-.89-1.17-.89-1.17-.727-.497.055-.487.055-.487.804.057 1.228.826 1.228.826.715 1.226 1.873.872 2.33.667.072-.518.28-.872.508-1.073-1.777-.202-3.644-.888-3.644-3.955 0-.873.312-1.587.824-2.146-.083-.202-.357-1.016.078-2.117 0 0 .67-.214 2.2.82.636-.177 1.318-.266 2-.27.682.004 1.364.093 2 .27 1.53-1.034 2.2-.82 2.2-.82.435 1.101.161 1.915.08 2.117.513.56.823 1.273.823 2.146 0 3.074-1.87 3.75-3.65 3.95.287.247.543.735.543 1.482 0 1.07-.01 1.93-.01 2.19 0 .214.145.463.55.384A8 8 0 0 0 8 .198z"/>
                        </svg>
                        Code
                    </a>
                </div>
            </div>

            <div class="project-card">
                <div class="project-header">
                    <h3>Multi-Agent Debate System</h3>
                    <span class="project-status status-development">Development</span>
                </div>
                <p>A sophisticated AI system where multiple agents engage in structured debates on various topics. Demonstrates advanced AI concepts including agent coordination, natural language processing, and decision making. Built as part of my deep learning studies at Nackademin.</p>
                <div class="project-tags">
                    <span class="tag">Python</span>
                    <span class="tag">Multi Agent</span>
                    <span class="tag">AI</span>
                </div>
                <div class="project-links">
                    <a href="https://github.com/CheungLeeLee/multi-agent" class="project-link" target="_blank" rel="noopener noreferrer">
                        <svg width="16" height="16" viewBox="0 0 16 16" fill="currentColor">
                            <path d="M8 .198a8 8 0 0 0-2.53 15.59c.4.074.547-.174.547-.386 0-.19-.007-.693-.01-1.36-2.226.484-2.695-1.073-2.695-1.073-.364-.924-.89-1.17-.89-1.17-.727-.497.055-.487.055-.487.804.057 1.228.826 1.228.826.715 1.226 1.873.872 2.33.667.072-.518.28-.872.508-1.073-1.777-.202-3.644-.888-3.644-3.955 0-.873.312-1.587.824-2.146-.083-.202-.357-1.016.078-2.117 0 0 .67-.214 2.2.82.636-.177 1.318-.266 2-.27.682.004 1.364.093 2 .27 1.53-1.034 2.2-.82 2.2-.82.435 1.101.161 1.915.08 2.117.513.56.823 1.273.823 2.146 0 3.074-1.87 3.75-3.65 3.95.287.247.543.735.543 1.482 0 1.07-.01 1.93-.01 2.19 0 .214.145.463.55.384A8 8 0 0 0 8 .198z"/>
                        </svg>
                        Code
                    </a>
                </div>
            </div>

            <div class="project-card">
                <div class="project-header">
                    <h3>Odds Comparer</h3>
                    <span class="project-status status-development">Development</span>
                </div>
                <p>A real-time sports betting odds comparison platform that aggregates data from multiple sources to help users find the best betting opportunities. Features live updates, statistical analysis, and data visualization for informed decision making.</p>
                <div class="project-tags">
                    <span class="tag">Python</span>
                    <span class="tag">Web Scraping</span>
                    <span class="tag">Data Analysis</span>
                    <span class="tag">Real-time Data</span>
                </div>
                <div class="project-links">
                    <a href="https://github.com/CheungLeeLee/Odds-Comparer" class="project-link" target="_blank" rel="noopener noreferrer">
                        <svg width="16" height="16" viewBox="0 0 16 16" fill="currentColor">
                            <path d="M8 .198a8 8 0 0 0-2.53 15.59c.4.074.547-.174.547-.386 0-.19-.007-.693-.01-1.36-2.226.484-2.695-1.073-2.695-1.073-.364-.924-.89-1.17-.89-1.17-.727-.497.055-.487.055-.487.804.057 1.228.826 1.228.826.715 1.226 1.873.872 2.33.667.072-.518.28-.872.508-1.073-1.777-.202-3.644-.888-3.644-3.955 0-.873.312-1.587.824-2.146-.083-.202-.357-1.016.078-2.117 0 0 .67-.214 2.2.82.636-.177 1.318-.266 2-.27.682.004 1.364.093 2 .27 1.53-1.034 2.2-.82 2.2-.82.435 1.101.161 1.915.08 2.117.513.56.823 1.273.823 2.146 0 3.074-1.87 3.75-3.65 3.95.287.247.543.735.543 1.482 0 1.07-.01 1.93-.01 2.19 0 .214.145.463.55.384A8 8 0 0 0 8 .198z"/>
                        </svg>
                        Code
                    </a>
                </div>
            </div>
            
            <div class="project-card">
                <div class="project-header">
                    <h3>My Portfolio</h3>
                    <span class="project-status status-live">Live</span>
                </div>
                <p>This responsive portfolio website showcasing my projects and skills. Built with modern HTML5, CSS3, and JavaScript, featuring a clean design with smooth animations and a dark/light theme toggle.</p>
                <div class="project-tags">
                    <span class="tag">HTML</span>
                    <span class="tag">CSS</span>
                    <span class="tag">JavaScript</span>
                </div>
                <div class="project-links">
                    <a href="https://github.com/CheungLeeLee/Ivan-Lee-Portfolio" class="project-link" target="_blank" rel="noopener noreferrer">
                        <svg width="16" height="16" viewBox="0 0 16 16" fill="currentColor">
                            <path d="M8 .198a8 8 0 0 0-2.53 15.59c.4.074.547-.174.547-.386 0-.19-.007-.693-.01-1.36-2.226.484-2.695-1.073-2.695-1.073-.364-.924-.89-1.17-.89-1.17-.727-.497.055-.487.055-.487.804.057 1.228.826 1.228.826.715 1.226 1.873.872 2.33.667.072-.518.28-.872.508-1.073-1.777-.202-3.644-.888-3.644-3.955 0-.873.312-1.587.824-2.146-.083-.202-.357-1.016.078-2.117 0 0 .67-.214 2.2.82.636-.177 1.318-.266 2-.27.682.004 1.364.093 2 .27 1.53-1.034 2.2-.82 2.2-.82.435 1.101.161 1.915.08 2.117.513.56.823 1.273.823 2.146 0 3.074-1.87 3.75-3.65 3.95.287.247.543.735.543 1.482 0 1.07-.01 1.93-.01 2.19 0 .214.145.463.55.384A8 8 0 0 0 8 .198z"/>
                        </svg>
                        Code
                    </a>
                </div>
            </div>
        </div>
    </section>

    <!-- Contact Section -->
    <section id="contact" class="container">
        <h2 class="section-title">Let's Work Together</h2>
        <div class="contact-content">
            <p>
                I'm always interested in hearing about new opportunities, exciting projects, and potential collaborations. 
                Whether you have a project in mind or just want to chat about AI, machine learning, or web development, 
                feel free to reach out!
            </p>
            
            <div class="contact-grid">
                <a href="mailto:Ivan98lee@gmail.com" class="contact-card">
                    <span class="contact-icon">📧</span>
                    <h4>Email</h4>
                    <p>Ivan98lee@gmail.com</p>
                </a>
                <a href="https://www.linkedin.com/in/ivan-cheung-lee/" class="contact-card" target="_blank" rel="noopener noreferrer">
                    <span class="contact-icon">💼</span>
                    <h4>LinkedIn</h4>
                    <p>Connect with me</p>
                </a>
                <a href="https://github.com/CheungLeeLee" class="contact-card" target="_blank" rel="noopener noreferrer">
                    <span class="contact-icon">🔗</span>
                    <h4>GitHub</h4>
                    <p>View my repositories</p>
                </a>
            </div>

            <div class="contact-info">
                <p><strong>📍 Location:</strong> Stockholm, Sweden</p>
                <p><strong>⚡ Status:</strong> Available for projects and collaborations</p>
                <p><strong>🎓 Education:</strong> Completing AI Development program at Nackademin</p>
                <p><strong>💻 Focus:</strong> Fullstack Development & AI/ML Solutions</p>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer>
        <div class="container">
            <div class="footer-content">
                <p> Ivan Lee. Designed and developed with ☕ and lots of passion.</p>
                <div class="footer-links">
                    <a href="#about">About</a>
                    <a href="#projects">Projects</a>
                    <a href="#contact">Contact</a>
                </div>
            </div>
        </div>
    </footer>

    <!-- Back to Top Button -->
    <button class="back-to-top" id="backToTop" onclick="scrollToTop()" aria-label="Back to top">↑</button>

    <!-- CV Modal -->
    <div id="cvModal" class="modal-overlay" aria-hidden="true" role="dialog" aria-modal="true">
        <div class="modal-content" role="document">
            <div class="modal-header">
                <div class="modal-title">Curriculum Vitae</div>
                <div class="modal-actions">
                    <a href="assets/Ivan_Lee_CV.pdf" class="download-btn" download>
                        <svg width="16" height="16" viewBox="0 0 16 16" fill="currentColor">
                            <path d="M8 1a.5.5 0 0 1 .5.5v11.793l3.146-3.147a.5.5 0 0 1 .708.708l-4 4a.5.5 0 0 1-.708 0l-4-4a.5.5 0 0 1 .708-.708L7.5 13.293V1.5A.5.5 0 0 1 8 1z"/>
                        </svg>
                        Download
                    </a>
                    <button class="close-btn" onclick="closeCvModal()">
                        <svg width="16" height="16" viewBox="0 0 16 16" fill="currentColor">
                            <path d="M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z"/>
                        </svg>
                        Close
                    </button>
                </div>
            </div>
            <div class="modal-body">
                <object class="pdf-embed" data="assets/Ivan_Lee_CV.pdf#toolbar=0&view=FitH" type="application/pdf">
                    <div class="pdf-fallback">
                        <h3>PDF Preview Unavailable</h3>
                        <p>Your browser doesn't support PDF embedding. You can still download the CV:</p>
                        <a class="download-btn" href="assets/Ivan_Lee_CV.pdf" download>
                            <svg width="16" height="16" viewBox="0 0 16 16" fill="currentColor">
                                <path d="M8 1a.5.5 0 0 1 .5.5v11.793l3.146-3.147a.5.5 0 0 1 .708.708l-4 4a.5.5 0 0 1-.708 0l-4-4a.5.5 0 0 1 .708-.708L7.5 13.293V1.5A.5.5 0 0 1 8 1z"/>
                            </svg>
                            Download CV
                        </a>
                    </div>
                </object>
            </div>
        </div>
    </div>

    <script>
        // Theme Management
        let currentTheme = 'dark';

        function toggleTheme() {
            currentTheme = currentTheme === 'dark' ? 'light' : 'dark';
            document.body.classList.toggle('light-theme');
            
            const themeToggle = document.querySelector('.theme-toggle');
            const mobileThemeToggle = document.querySelector('.mobile-nav-actions .theme-toggle');
            const icon = currentTheme === 'light' ? '☀️' : '🌙';
            const text = currentTheme === 'light' ? ' Light Mode' : ' Dark Mode';
            
            themeToggle.innerHTML = icon;
            if (mobileThemeToggle) {
                mobileThemeToggle.innerHTML = icon + text;
            }
            
            // Save theme preference
            localStorage.setItem('theme', currentTheme);
        }

        // Load saved theme
        function loadTheme() {
            const savedTheme = localStorage.getItem('theme');
            if (savedTheme) {
                currentTheme = savedTheme;
                if (currentTheme === 'light') {
                    document.body.classList.add('light-theme');
                    document.querySelector('.theme-toggle').innerHTML = '☀️';
                    const mobileThemeToggle = document.querySelector('.mobile-nav-actions .theme-toggle');
                    if (mobileThemeToggle) {
                        mobileThemeToggle.innerHTML = '☀️ Light Mode';
                    }
                }
            }
        }

        // Mobile Menu
        function toggleMobileMenu() {
            const mobileNav = document.getElementById('mobileNav');
            const mobileBackdrop = document.getElementById('mobileBackdrop');
            mobileNav.classList.toggle('active');
            mobileBackdrop.classList.toggle('active');
            document.body.style.overflow = mobileNav.classList.contains('active') ? 'hidden' : '';
        }

        function closeMobileMenu() {
            const mobileNav = document.getElementById('mobileNav');
            const mobileBackdrop = document.getElementById('mobileBackdrop');
            mobileNav.classList.remove('active');
            mobileBackdrop.classList.remove('active');
            document.body.style.overflow = '';
        }

        // Header Scroll Effect
        function handleHeaderScroll() {
            const header = document.getElementById('header');
            if (window.scrollY > 50) {
                header.classList.add('scrolled');
            } else {
                header.classList.remove('scrolled');
            }
        }

        // Progress Bar
        function updateProgressBar() {
            const progressBar = document.getElementById('progressBar');
            const windowHeight = document.documentElement.scrollHeight - document.documentElement.clientHeight;
            const scrolled = (window.scrollY / windowHeight) * 100;
            progressBar.style.width = scrolled + '%';
        }

        // Back to Top Button
        function handleBackToTop() {
            const backToTop = document.getElementById('backToTop');
            if (window.scrollY > 300) {
                backToTop.classList.add('visible');
            } else {
                backToTop.classList.remove('visible');
            }
        }

        function scrollToTop() {
            window.scrollTo({
                top: 0,
                behavior: 'smooth'
            });
        }

        // Active Navigation Link
        function updateActiveNavLink() {
            const sections = document.querySelectorAll('section[id]');
            const navLinks = document.querySelectorAll('[data-nav-link]');
            
            let currentSection = '';
            sections.forEach(section => {
                const sectionTop = section.offsetTop - 100;
                const sectionHeight = section.offsetHeight;
                if (window.scrollY >= sectionTop && window.scrollY < sectionTop + sectionHeight) {
                    currentSection = section.getAttribute('id');
                }
            });
            
            navLinks.forEach(link => {
                link.classList.remove('active');
                if (link.getAttribute('href') === `#${currentSection}`) {
                    link.classList.add('active');
                }
            });
        }

        // Smooth Scrolling for Navigation Links
        function initSmoothScrolling() {
            document.querySelectorAll('a[href^="#"]').forEach(anchor => {
                anchor.addEventListener('click', function (e) {
                    e.preventDefault();
                    const target = document.querySelector(this.getAttribute('href'));
                    if (target) {
                        const offsetTop = target.offsetTop - 80;
                        window.scrollTo({
                            top: offsetTop,
                            behavior: 'smooth'
                        });
                    }
                });
            });
        }

        // Intersection Observer for Animations
        function initScrollAnimations() {
            const observerOptions = {
                threshold: 0.1,
                rootMargin: '0px 0px -50px 0px'
            };

            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.classList.add('animate-in');
                        
                        // Trigger counter animation for stats
                        if (entry.target.classList.contains('stats-section')) {
                            animateCounters();
                        }
                    }
                });
            }, observerOptions);

            // Observe sections for animation
            document.querySelectorAll('section:not(.hero)').forEach((section, index) => {
                section.style.opacity = '0';
                section.style.transform = 'translateY(30px)';
                section.style.transition = `all 0.8s ease-out ${index * 0.1}s`;
                observer.observe(section);
            });

            // Observe individual project cards
            document.querySelectorAll('.project-card').forEach((card, index) => {
                card.style.opacity = '0';
                card.style.transform = 'translateY(30px)';
                card.style.transition = `all 0.6s ease-out ${index * 0.1}s`;
                observer.observe(card);
            });
        }

        // Counter Animation
        function animateCounters() {
            const counters = document.querySelectorAll('[data-count]');
            counters.forEach(counter => {
                const target = parseInt(counter.getAttribute('data-count'));
                const duration = 2000;
                const step = target / (duration / 16);
                let current = 0;
                
                const timer = setInterval(() => {
                    current += step;
                    if (current >= target) {
                        counter.textContent = target + (target === 100 ? '%' : '');
                        clearInterval(timer);
                    } else {
                        counter.textContent = Math.floor(current) + (target === 100 ? '%' : '');
                    }
                }, 16);
            });
        }

        // CV Modal Controls
        function trapFocusInModal(modal) {
            const focusableSelectors = 'a[href], button:not([disabled]), textarea, input, select, [tabindex]:not([tabindex="-1"])';
            const focusable = modal.querySelectorAll(focusableSelectors);
            if (focusable.length === 0) return;
            
            const first = focusable[0];
            const last = focusable[focusable.length - 1];
            
            function handleTab(e) {
                if (e.key !== 'Tab') return;
                if (e.shiftKey && document.activeElement === first) {
                    e.preventDefault();
                    last.focus();
                } else if (!e.shiftKey && document.activeElement === last) {
                    e.preventDefault();
                    first.focus();
                }
            }
            
            modal.addEventListener('keydown', handleTab);
        }

        function openCvModal() {
            const modal = document.getElementById('cvModal');
            modal.classList.add('active');
            modal.setAttribute('aria-hidden', 'false');
            document.body.style.overflow = 'hidden';
            trapFocusInModal(modal);
            
            const closeBtn = modal.querySelector('.close-btn');
            if (closeBtn) closeBtn.focus();
        }

        function closeCvModal() {
            const modal = document.getElementById('cvModal');
            modal.classList.remove('active');
            modal.setAttribute('aria-hidden', 'true');
            document.body.style.overflow = '';
        }

        // Keyboard Navigation
        function initKeyboardNavigation() {
            document.addEventListener('keydown', function(e) {
                const modal = document.getElementById('cvModal');
                
                // Close modal on Escape key
                if (e.key === 'Escape') {
                    if (modal.classList.contains('active')) {
                        closeCvModal();
                    }
                    if (document.getElementById('mobileNav').classList.contains('active')) {
                        closeMobileMenu();
                    }
                }
                
                // Navigate with arrow keys
                if (e.altKey) {
                    switch(e.key) {
                        case 'ArrowUp':
                            e.preventDefault();
                            scrollToTop();
                            break;
                        case 'ArrowDown':
                            e.preventDefault();
                            window.scrollTo({
                                top: document.body.scrollHeight,
                                behavior: 'smooth'
                            });
                            break;
                    }
                }
            });
        }

        // Loading Screen
        function hideLoadingScreen() {
            const loadingScreen = document.getElementById('loadingScreen');
            setTimeout(() => {
                loadingScreen.style.opacity = '0';
                setTimeout(() => {
                    loadingScreen.style.display = 'none';
                }, 500);
            }, 1000);
        }

        // Preload Images
        function preloadImages() {
            const imageUrls = [
                'assets/profile.jpg',
                'assets/Ivan_Lee_CV.pdf'
            ];
            
            imageUrls.forEach(url => {
                const img = new Image();
                img.src = url;
            });
        }

        // Error Handling
        function handleImageError() {
            document.querySelectorAll('img').forEach(img => {
                img.addEventListener('error', function() {
                    this.style.display = 'none';
                    console.warn('Image failed to load:', this.src);
                });
            });
        }

        // Performance Monitoring
        function logPerformanceMetrics() {
            if ('performance' in window) {
                window.addEventListener('load', () => {
                    setTimeout(() => {
                        const perfData = performance.getEntriesByType('navigation')[0];
                        console.log('Page Load Time:', perfData.loadEventEnd - perfData.loadEventStart, 'ms');
                    }, 0);
                });
            }
        }

        // Initialize Everything
        function init() {
            // Core functionality
            loadTheme();
            initSmoothScrolling();
            initScrollAnimations();
            initKeyboardNavigation();
            preloadImages();
            handleImageError();
            hideLoadingScreen();
            
            // Performance monitoring (development only)
            if (window.location.hostname === 'localhost' || window.location.hostname === '127.0.0.1') {
                logPerformanceMetrics();
            }
        }

        // Event Listeners
        window.addEventListener('scroll', () => {
            handleHeaderScroll();
            updateProgressBar();
            handleBackToTop();
            updateActiveNavLink();
        });

        // Modal event listeners
        document.getElementById('cvModal').addEventListener('click', function(e) {
            if (e.target === this) {
                closeCvModal();
            }
        });

        // Resize handler for mobile menu
        window.addEventListener('resize', () => {
            if (window.innerWidth > 768) {
                closeMobileMenu();
            }
        });

        // Initialize when DOM is loaded
        if (document.readyState === 'loading') {
            document.addEventListener('DOMContentLoaded', init);
        } else {
            init();
        }

        // Service Worker Registration (optional)
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                // Uncomment if you want to add PWA features
                // navigator.serviceWorker.register('/sw.js')
                //     .then((registration) => {
                //         console.log('SW registered: ', registration);
                //     })
                //     .catch((registrationError) => {
                //         console.log('SW registration failed: ', registrationError);
                //     });
            });
        }
    </script>
</body>
</html>